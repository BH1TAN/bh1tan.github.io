{"pages":[{"title":"About","text":"","link":"/about/index.html"}],"posts":[{"title":"Hello World","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/2020/04/hello-world/"},{"title":"Geant4安装教程","text":"前言Geant4是啥就不在此赘述了，笔者因各种原因尝试安装过很多次，有成功也有失败，总结下来最重要的经验是 仔细看并尽可能理解每一行命令的作用和输出信息，出现异常及时排除 为了避免大家安装时无脑复制粘贴运行命令，友情提醒：本文有些代码需要修改（都是明显之处）才能运行。另外，本文使用cp命令移动文件和文件夹，大家在运行结束后最好手动删除应该删除的内容。在课题组内分享本文时，幸得老师和同学们诸多宝贵意见，使本文得以步步完善，在此向诸位老师和同门致以诚挚的谢意。 整体思路操作系统： Ubuntu 14.04 LTSGeant版本：Geant4.10.04.p01用时：约2小时（包含升级cmake用时约1小时） 步骤： 安装依赖库 升级cmake 下载相关文件并有序放置 正式安装geant4 测试 配置环境变量以便于下次使用 详细步骤注意：请根据自己下载的geant4版本（名称），cmake版本和自己安装时的实际路径来更改相关代码，否则必然走弯路。另外，要注意安装时的权限相关问题，例如“su”后，家文件夹变为了“/root”；如果提示权限不足，可能需要为一些文件和文件夹“chmod -R”或者“chown -R”等等。 安装依赖库清华大学校内，可先将apt的软件源改为清华大学tuna协会维护的镜像，以加快依赖库的下载速度（以及免流量），具体操作方法可访问tuna镜像站帮助页，按指导操作，注意选择正确的ubuntu版本。 在下载依赖库前先更新apt（需要确认时输入“y(回车)”以继续） 12sudo apt-get updatesudo apt-get upgrade 等待更新完成。逐行运行如下代码，安装依赖库（有部分库是为安装root准备的，非geant4必须，简便起见，一股脑全装了就好）： 1234sudo apt install git dpkg-dev make g++ gcc binutils libx11-vdev libxpm-dev libxft-dev libxext-devsudo apt install gfortran libssl-dev libpcre3-dev xlibmesa-glu-dev libglew1.5-dev libftgl-dev libmysqlclient-dev libfftw3-dev libcfitsio3-dev graphviz-dev libavahi-compat-libdnssd-dev libldap2-dev python-dev libxml2-dev libkrb5-dev libgsl0-dev libqt4-devsudo apt install libx11-dev libxext-dev libxtst-dev libxrender-dev libxmu-dev libxmuu-devsudo apt install qt-sdk 亦有教程仅安装下述依赖库，此处做个记录，未做可行性验证。 12345sudo apt-get install build-essentialsudo apt-get install cmake cmake-curses-guisudo apt-get install qt5-default qtcreatorsudo apt-get install libgl1-mesa-dev libglu1-mesa-dev mesa-common-dev libxt-devlibxmu-dev libxi-dev zlib1g-dev libgl2ps-dev libexpat1-dev libxerces-c-dev libmotif-dev 安装或升级cmake首先查看cmake版本，若&lt;3.3或未安装该软件，则需要升级或安装，否则可以跳过本节操作 1cmake --version 笔者所用的Ubuntu14.04LTS系统中默认安装的cmake版本为2.8，且不能通过apt-get升级，geant4要求cmake版本3.3以上才能编译。可访问CMake官网 查询并选择较新的版本下载，调整下文相应代码即可（本文选择了cmake-3.5.2） 1sudo wget https://cmake.org/files/v3.5/cmake-3.5.2.tar.gz 解压 1tar xvf cmake-3.5.2.tar.gz 进入cmake目录 1cd cmake-3.5.2 设置cmake安装位置为 /usr 1./bootstrap --prefix=/usr 编译，-j2代表使用双核编译，可根据自己电脑情况调整核数 1make -j2 安装，这一步等待时间较长 1make install 检查是否升级成功，若成功，版本应&gt;=3.3.*，否则重新安装cmake 1cmake --version 下载Geant4代码并有序放置前往Geant4官网下载source files（1个tar文件）和data files（本文撰写时为11个文件） 解压 1tar xvf geant4.10.04.p01.tar.gz 将其移动至家目录/home/yourname下，请根据自己系统情况修改yourname 1cp -r geant4.10.04.p01 /home/yourname/geant4.10.01.p01 在方便管理的位置创建文件夹geant4_data，在该处解压11个data files，可以在图形界面全选11个压缩文件后右键，选择“extract here”，本例中位于/home/yourname/geant4/geant4_data 在家目录下新建文件夹geant4.10-build 12cd /home/yournamemkdir geant4.10-build 此时家目录下应有3个文件夹data，geant4.10.04.p01，geant4.10-build 安装geant4进入geant4.10-build文件夹 1cd geant4.10-build 制作安装文件（下面的代码请勿直接复制运行，有个地方要你改哦） 1cmake -DCMAKE_INSTALL_PREFIX=/home/yourname/geant4.10-install/ -DGEANT4_USE_OPENGL_X11=ON -DGEANT4_USE_RAYTRACER_X11=ON -DGEANT4_USE_QT=ON -DGEANT4_BUILD_MULTITHREADED=ON ../geant4.10.04.p01 其中：-DCMAKE_INSTALL_PREFIX 为安装位置，可根据需要调整X11 相关的两个参数表示开启图形可视化-DGEANT4_USE_QT=ON 开启QT-DGEANT4_BUILD_MULTITHREADED=ON 开启多线程并行../geant4.10.04.p01 geant4源代码位置（上文所说的家目录下三个文件夹之一）该代码运行结束后出现下面文字，表示成功生成安装文件 123–Configuring done–Generating done–Build files have been written to: … 编译 1make -j8 安装 1make install 这两步用时稍久，完成后可在安装位置看到新增了geant4.10-install文件夹。一般其它教程会建议将核数据文件夹geant4_data文件夹拷入/home/yourname/geant4.10-install/share/Geant4-10.04.2/，并修改文件名为data。但其实建立软链接即可，这样可以避免在更新geant4时误删data： 12cd ~/geant4/ln -s geant4_data geant4.10-install/share/Geant4-10.04.2/data 载入数据库（本载入方法在关闭terminal后将失效，此处仅为验证安装成功而临时使用） 12cd geant4.10-install/share/Geant4-10.04.2/geant4makesudo source geant4make.sh 测试进入测试样例B1的文件夹 1cd /home/yourname/geant4.10.04.p01/example/basic/B1 创建build文件夹并编译该例程 1234mkdir buildcd buildcmake ..make -j4 看到下面的文字表示编译成功 1Linking exampleB1 ...Done! 打开该模型 1./exampleB1 界面如下图，注意绿色方框所示的区域不应有红色的报错代码 在蓝色框session:内输入下面代码（注意beamOn的大小写） 1\\run\\beamOn 100 可见多条粒子径迹如下图 至此，geant4安装成功！！！ 配置环境变量方便下次使用每次打开新的terminal后都手动运行source geant4make.sh是很不方便的，因此可将该命令加入启动项。实际上有很多不同的方法可以达到同样的目的，下文只是其中的一种 打开家目录下的.bashrc 1nano /home/yourname/.bashrc 在打开的文件末尾中加入下列两行代码（注意修改路径部分） 12# enable geant4 environment settingssource /home/yourname/geant4.10-install/share/Geant4-10.4.1/geant4make/geant4make.sh 保存该文件并退出，这样每次打开新终端时就不用单独输入了 日常使用今后使用geant4时，在模型路径下编译完成后，直接输入模型名称（如exampleB1）回车即可 参考文献 安装cmake http://blog.csdn.net/li872149120/article/details/77892127 安装geant4 https://leeyeel.github.io/2017/07/01/geant4-install/ 安装root https://leeyeel.github.io/2017/07/01/root-install/","link":"/2020/04/Geant4%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/"},{"title":"探索100服务器的使用-1配置环境","text":"前言关于课题组所租用的高性能计算平台“探索100”的使用将分为2个部分介绍，分别是“配置环境”（本文）和“日常操作”。本文将介绍如何配置登录和使用环境，成功配置以后就不用再看了；“日常使用”则作为平常运行计算时的参考，主治忘记了操作顺序，忘记了常用命令之类的问题。大体上，这两篇文章属于“照着操作能用”的指南，若需要更详细地了解硬件配置，运行过程等细节，可参考《探索100用户使用手册》等文件。 探索100服务器相比于个人计算机，优势在于核数多（740节点*12核=8880核），内存大（370个节点32GB，370个节点48GB），运行并行任务有显著的时间提升。因此我们在日常使用MCNP，Matlab，Geant，Talys等程序时，如果任务要求内存大，或者运行时间长，可以考虑使用探索100服务器加快计算。 整体思路本文主要就两点内容： 下载SSH终端 配置连接 配置用户名和密码 配置密钥登录 下载SSH终端 windows常见的SSH终端有PuTTY（轻便简单），Xshell（久负盛名，功能丰富），MobaXterm（笔者在用，功能强大）等等。择一从官网下载即可。之所以我选择MobaXterm是因为其默认在打开ssh连接的同时打开sftp连接，可以让我们很方便地上传和下载文件。 mac直接使用terminal的SSH命令即可，我没有尝试过，欢迎了解的同学私信我添加这部分内容。 Linux直接使用terminal的SSH命令即可，我没有尝试过，欢迎了解的同学私信我添加这部分内容。 配置连接下面以MobaXterm软件为例介绍如何配置用户名密码及密钥。 点击Session 点击SSH 输入远程主机ip 打开“MobaXterm password settings”页面 点击“Credentials” 新建 输入Name（方便自己识别的名字，可以任意取） 输入用户名和密码（看课题组资料） 确定 点击“OK”关闭“MobaXterm password settings”页面 勾选“Specify username” 下拉菜单 选择第7步设置的Name 打开“Advanced SSH settings” 勾选“Use private key” 选择私钥文件（课题组资料中的key文件） 确认 这时在主界面的左边栏会出现一个黑底黄钥匙的图标，代表一个ssh连接，此时双击它会报错“无法连接”，这是因为我们还没有连接“探索100”服务器的VPN，操作方法请看下一篇文章。","link":"/2020/04/%E6%8E%A2%E7%B4%A2100%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8-1%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/"},{"title":"探索100服务器的使用-2日常操作","text":"前言关于探索100的使用，准备分为2个部分来介绍，分别是“配置环境”和“日常操作”（本文）。如果你是第一次接触“探索100”高性能计算平台，请先看“配置环境”一文。本文介绍的是最基础的提交作业及运行的操作，更详细的指南可参考《探索100用户使用手册》。 整体思路让我们假设你手头某一计算任务需要很长时间的计算，例如MCNP需要40小时的运行才能得到想要的结果。这时候寻求计算平台的帮助是很合理的了。那么，你准备好计算所需的文件（MCNP的“.i”文件，matlab的“.m”文件等）后，接下来要做的是这些事： 使用ie打开vpn 登录“探索100”前端机 准备工作目录 提交作业 检查执行情况 查看结果 ==强烈建议先在本机完整运行一次程序（使用较小的粒子数nps或较少的循环数）以便排除bug。== 自己电脑上都跑不通的代码服务器上肯定跑不通。—-某传奇师兄 使用ie打开vpn以管理员身份运行ie浏览器我也不知道为啥只能用ie, 输入前端机的完整ip地址（看课题组资料） https://166.???.???.???:?/?/?/?.cgi 在打开的页面中输入用户名和密码（看课题组资料“VPN”），以及不区分大小写的验证码，“类别”选择local。 若提示需要安装activeX，则按要求安装，然后重启ie（管理员身份运行） 登录“探索100”前端机打开你所使用的ssh软件，这里以MobaXterm为例。双击左侧栏“Sessions”中的ssh连接，若出现下面的提示，则需在右边的黑色区域输入私钥的密码（参考课题组资料“密钥”），输入时没有任何显示，输完回车即可。 出现下图表示成功登录，可以将该页面最小化但不要关闭。 准备工作目录若之前做过这一步，可以跳过。 进入工作目录 1cd ~/WORK1 新建自己名字的文件夹并进入 12mkdir [yourname]cd [yourname] 上载计算文件在左侧sftp窗口路径栏中输入自己的工作文件夹，回车 1/work1/yangyg_work/[yourname] 点击上传按钮选择自己准备好的计算文件，等待进度条跑完即上传完成。也可以直接选中本地的文件，拖动至sftp窗口中即可。 提交作业在服务器上提交计算任务是以脚本的形式进行的，和本机有区别。==切勿在终端直接运行自己的程序==。在家目录/home/yangyg/下已经准备好了提交mcnp任务的脚本模板mcnpscript和matlab任务的脚本模板matlabscript可以将其复制入自己的文件夹 1cp /home/yangyg/mcnpscript /work1/yangyg_work/[yourname] 然后按需修改内容 1nano mcnpscript 该脚本内容大体如下： 1234567891011#!/bin/sh#BSUB -q hpc_linux#BSUB -a intelmpi#BSUB -R &quot;select[mem&gt;20000]&quot;#BSUB -n 60#BSUB -o %J.output#BSUB -e %J.error#BSUB -J namemfn=&quot;name&quot;mpirun.lsf mcnp5.mpi.impi_intel i=$mfn.i o=$mfn.o r=$mfn.r 大部分情况要注意的参数是这些-q：提交队列，可选hpc_linux（需要的内存大于32G的作业），short（运行时间小于10分钟的作业），normal（其它普通作业），priority（临时紧急任务，需要向系统管理员申请使用权限）。-n：申请核心数，单用户最大240，建议使用12的整数倍以独占计算节点。经验上看mcnp作业一般用60比较合适，大于72有可能导致运行速度不明原因骤降。如果需要mcnp输出ptrac文件则只能用1。-J：作业名称，取自己易识别的名称最后两行为执行命令，和个人电脑上的命令基本一致。 确认脚本和输入文件正确后，在terminal输入下面的命令提交作业 1bsub&lt;mcnpscript ==注意是小于号&lt;==若出现无法提交，需等待60s重试的提示，表示提交的作业总共申请的核数达到了最大值。先按ctrl+C取消，同正在计算的组内同学协调，杀死部分作业或者待现有作业执行完毕后再提交。 作业提交后就可以关闭ssh软件，待运行结束再重新登录下载数据，但强烈建议等作业跑起来检查一下是否有报错、提前结束等异常情况，以便及时处理。如果是时间较长的作业，最好在运行中也定时检查一下。 检查执行情况在terminal中可使用以下常用命令bjobs：查看未完成的作业列表，STAT一列的PEND表示正在排队,RUN表示正在运行，其它状态需及时联系管理员确认原因。bjobs -l 作业号：查看作业运行的资源消耗情况bpeek 作业号：查看作业运行的标准bkill 作业号：杀死作业，执行后需等待约1分钟bjobs中该作业才会消失。 查看结果作业运行完毕，bjobs中该作业号消失，作业的输出文件（例如mcnp的“.o”等文件），作业的执行日志等均保存到了提交作业时的目录下，可按需查看和下载（在左侧sftp窗口中点选后右键下载，或者选中后直接拖至本地文件夹内）一般来说作业号.error 为空文件，非空意味着作业执行有误，最常见的错误是提交脚本mcnpscript文件在windows下编辑，出现了“换行符错误”。这种情况只需重新复制家目录下的脚本模板，在终端修改即可。 作业号.output 为作业的标准输出（相当于在个人电脑上运行时，cmd界面中显示的那些内容），若mcnp模型有误，错误信息在本文件中。 简而言之，计算软件的报错信息在作业号.output 中；作业提交中的错误信息在作业号.error 中。","link":"/2020/04/%E6%8E%A2%E7%B4%A2100%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8-2%E6%97%A5%E5%B8%B8%E6%93%8D%E4%BD%9C/"},{"title":"如何用tex撰写清华大学毕业论文","text":"前言tex格式的文档因其排版方便的优点受到很多科研工作者的欢迎，不少期刊提供latex模板以便使用。对于 快速开始安装 texlivetexlive相当于一个编译器，在官网上下载texlive.在“Easy install”里面点击超链接“install-tl-windows.exe”就开始下载了。下载后 前往texstudio下载texstudio 和Latex的一些往事笔者第一次接触tex应该是在大三，当时好奇心很重，什么都想尝试，在一次讲座中听说了latex的排版多么方便，于是自己也开始研究。但可惜当时不得法，分不清诸如latex，pdftex,ctan等等名词和他们之间的关系，虽然最终写了一些文档，但经常报错连连，就放弃了，重回word。第二次系统性地使用latex是在博三，光中子查毒的项目告一段落，写了一篇论文准备发表在TNS，就去官网下载它的模板，发现它除了提供了word模板外，也提供了latex模板，于是当时又选择了latex，并第一次使用texstudio，感觉良好。但发现想用letpub为论文润色时，人家只接受word，不接受tex，于是花了一下午把.tex转为.docx。可惜最后这篇文章没被接收。","link":"/2022/05/%E5%A6%82%E4%BD%95tex%E6%92%B0%E5%86%99%E6%B8%85%E5%8D%8E%E5%A4%A7%E5%AD%A6%E6%AF%95%E4%B8%9A%E8%AE%BA%E6%96%87/"},{"title":"ROOT安装教程","text":"前言ROOT是欧洲核子研究组织（CERN）开发的数据处理软件，其在核物理的研究中被广泛应用于组织、处理、可视化粒子的行为等信息。本文介绍其在Ubuntu-20.04中的安装方法。 下载预编译包在ROOT的Install页面，可以看到多种安装方法，其中最方便的方式是下载预编译的Release版本在本地安装。在这里点击最新的Release版本，下载对应自己计算机的Binary Distribution版本。 1$ wget https://root.cern/download/root_v6.24.02.Linux-ubuntu20-x86_64-gcc9.3.tar.gz 解压1$ tar -xzvf root_v6.24.02.Linux-ubuntu20-x86_64-gcc9.3.tar.gz 加入运行路径在~./bashrc下添加以下内容 123export ROOTSYS=/home/thucuity/root_cern/rootexport PATH=$ROOTSYS/bin:$PATHexport LD_LIBRARY_PATH=$ROOTSYS/lib:$LD_LIBRARY_PATH 然后 1$ source ~/.bashrc 确认一下直接在终端输入 1$ root 应该可以出现下图的结果 参考文献Root:Data Analysis Framework","link":"/2022/05/ROOT%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/"},{"title":"如何用tex撰写清华大学毕业论文-1环境搭建","text":"引言tex格式的文档因其免去了大量人工排版工作的优点受到很多科研工作者的欢迎，不少期刊提供模板以便投稿使用，国内外各一流高校也有由校内开源社团维护的学位论文模板，惠泽一届又一届的学子。 对于撰写长文稿，尤其是图片、公式、表格繁杂，需要规范编号的情景，tex将带来office和wps无法比拟的便捷体验，这正是撰写毕业论文需要面对的情景。 从 word 迁移至 tex 会有什么变化: 优点以下操作均不再需要： 拖拉图片或表格的位置 担心图片、表格、文字互相重叠 调整字体、字号、间距等 为图片、表格、公式 编号 更新图片、表格、公式的编号 缺点 所见非所得，对于代码不熟练时需要多次调试才可以得到想要的结果 插入参考文献的步骤相比使用 word 插件多一些 笼统地说， word 中需要点击“图片格式”，“格式刷”，“交叉引用”实现的功能，在 tex 中只需要“标注”一下：这是标题文字，这是正文文字，这是图片的路径……就可以了。 word 中觉得图片或表格位置不满意，动手一拉就如同搭好的积木突然倒塌，在 tex 中它们总位于比较合理的位置，需要调整位置只需要“标注”：“我希望这幅图在整页的上部”，然后就不用其它位置的调整会造成这里的格式混乱了。 下载所需软件本文不展开讨论各编译器和图形界面的对比，仅提供我认为好用且有效的一套工具链。 从零进入写作，需要以下三个东西： texlive，相当于编译器，下载链接是https://mirror.ctan.org/systems/texlive/tlnet/install-tl-windows.exe， TeXstudio，相当于用户图形化界面，下载链接是http://TeXstudio.sourceforge.net/， thuthesis，相当于写作模板，一切学位论文所要求的格式都已经变成代码体现在该模板文件中，可以在清华开源镜像站下载最新版本：https://mirrors.tuna.tsinghua.edu.cn/github-release/tuna/thuthesis/ 以下三个文件就是全部所需： 建议先安装 texlive，再安装 TeXstudio，最后解压 thuthesis。 安装texlive安装tex按照默认设置即可，如下图所示。其安装位置（Installation root）的修改和其它软件有一点点区别，需要分别指定路径的前缀和文件夹名称。 出现下图所示界面后，安装进入了耗时最久的一步，通常需要数小时才能完成，好在不需要人为干预，同时也有进度的指示。 安装完成后出现如下界面，点击关闭 安装页面出现“Completed”，点击关闭。 为了确认tex已被成功安装，可以ctrl+r进入cmd命令行，输入 1&gt; tex 如果看到以下输出，则安装成功。 1This is TeX, Version 3.141592653 (Tex Live 2022) …… 一个小彩蛋：TeX的开发者认为TeX是一个很完美的，没有bug的程序，后续的工作不过是一些小调整，就如同计算圆周率pi的后续位的小数一样，并不会使得程序本身出现应用层面价值的改观，所以开发者使用了pi作为版本号。 安装 TeXstudio相比 texlive 的安装，TeXstudio 的安装快捷方便，没有需要特别注意之处。 安装好后，打开软件，在Opitions-&gt;Configure TeXstudio中 选择左侧的 General（常规），将Language改为 zh_CN (Chinese) 选择左侧的 Build（构建），将默认编译器改为 XeLaTex 至此，我们完成了软件的所有准备。 打开 thuthesis 看看完成软件的安装后，接下来我们需要基于“模板”来完成自己的文章，这个模板可以是网络上找的，也可以是自己编写的。对于清华大学学位论文来说，自己编写“模板”无异于重复造轮子，所以我们从网上下载就好。 解压后可以看到很繁杂的文件，实际对于写作者来说，只需操作： thuthesis-example.tex，主文件，定义论文各部分（如封面、目录、正文）的组织结构与顺序 data 文件夹和其中的 .tex 文件，文章各部分的具体内容（看文件名可略知一二） figures 文件夹，论文中所需的插图 ref 文件夹，参考文献目录，其中的 .bib文件一般由文献管理软件（如Mendeley、Zotero、Endnote）导出。 在正式开始论文的撰写前，可以大致阅读一下thuthesis.pdf，这是thuthesis模板的详细说明，通过它可以了解每个文件是做啥的，每个格式细节是如何实现的。 另外thuthesis-example.pdf 是 tex 生成的文档“成品”，它现在的内容是模板示例，但是结构和格式与学位论文完全一致。未来我们哼哧哼哧将模板包中对应位置的内容替换成自己的研究成果后，生成的它就会变为我们提交学校的论文。 用 TeXstudio 打开 thuthesis-example.tex，画面如下 左侧是 TeXstudio 为我们整理好的模板结构，点击不同的部分可进入撰写。撰写后，点击上方菜单栏的构建并查看（双绿箭头），或者直接按 F5 ，稍等数秒，右侧将出现构建的“成品”pdf。同时，文件夹中的 thuthesis-example.pdf 将同步更新。在代码区或者pdf查看区均可以右键，点击“跳转到”，另一个区域的焦点将移至右键所在的对应位置。 尾声本文介绍了 TeXlive + TeXstudio + thuthesis 这一用于清华大学学位论文写作的工具链的构建方法。说明了正确的安装所预期得到的结果。 在tex环境中的具体写作方法，将另文介绍。 和Latex的一些往事笔者第一次接触tex应该是在大三，当时好奇心很重，什么都想尝试，在一次讲座中听说了latex的排版多么方便，于是自己也开始研究。但可惜当时不得法，分不清诸如latex，pdftex,ctan等等名词和他们之间的关系，虽然最终写了一些文档，但经常报错连连，就放弃了，重回word。第二次系统性地使用latex是在博三，光中子查毒的项目告一段落，写了一篇论文准备发表在TNS，就去官网下载它的模板，发现它除了提供了word模板外，也提供了latex模板，于是当时又选择了latex，并第一次使用TeXstudio，感觉良好。但发现想用letpub为论文润色时，人家只接受word，不接受tex，于是花了一下午把.tex转为.docx。可惜最后这篇文章没被接收。","link":"/2022/05/%E5%A6%82%E4%BD%95%E7%94%A8tex%E6%92%B0%E5%86%99%E6%B8%85%E5%8D%8E%E5%A4%A7%E5%AD%A6%E6%AF%95%E4%B8%9A%E8%AE%BA%E6%96%87-1%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"title":"迁移WSL2至非系统盘","text":"前言WSL2可以方便地在windows环境中使用Linux下的功能，默认安装时一般被安装在C盘。其实可以很简单地将其迁移至其它盘，避免C盘空间不够的问题。 迁移WSL2网上有两种方法可以迁移，一种是PowerShell中操作，第二种是使用[LxRunOffline]工具(https://github.com/DDoSolitary/LxRunOffline/releases)。这里只介绍简便的第一种。 迁移过程中注意连接电源，避免意外掉电损坏数据。正常操作的话，原WSL2中的数据不会有任何丢失，通过MobaXterm等terminal连接时与原位置没有任何差异。 终止正在运行的分发版或虚拟机：在Windows powershell 中输入 wsl –shutdown 导出（本例的版本为Ubuntu20.04） wsl –export Ubuntu-20.04 D:\\wsl-Ubuntu-20.04 需要等待数分钟，完成后可以在D:\\下看到该文件 卸载 wsl –unregister Ubuntu-20.04 此时可以看到系统盘可用空间变大 创建新的WSL位置 在合适的位置创建新文件夹用以安放WSL，本例为 D:\\wsl\\ 导入 wsl –import Ubuntu-20.04 D:\\wsl\\Ubuntu-20.04 D:\\wsl-Ubuntu-20.04 –version 2 如果个别情况想要WSL1，可以把最后的--version 2 改为 --version 1 试用 用迁移前的方式登上WSL，这时候应该是root用户，可以su yourname更改为原来的用户。 看看，一切是否如故？以前的程序是否还能跑？如果有问题，只要导出的文件D:\\wsl-Ubuntu-20.04不损坏，一切都有回旋余地。 更改默认登录用户 sudo nano /etc/wsl.conf 应该是个空文件，添加以下内容 12[user]default=yourname 保存，重启WSL2后，登录时就不是root用户了 重启WSL2关闭连接着WSL的终端，在PowerShell中输入 net stop LxssManager 运行完成后 net start LxssManager 完成重启 删除打包的WSL再次确认WSL2中一切正常后，可以删除D:\\wsl-Ubuntu-20.04，为磁盘腾出空间。 参考文献WSL2迁移方法 更改默认登录用户","link":"/2022/05/%E8%BF%81%E7%A7%BBWSL2%E8%87%B3%E9%9D%9E%E7%B3%BB%E7%BB%9F%E7%9B%98/"}],"tags":[],"categories":[]}